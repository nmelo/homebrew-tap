# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Sentry < Formula
  desc "Sentry host agent for Secure Infrastructure attestation"
  homepage "https://github.com/gobeyondidentity/secure-infra"
  version "0.6.7"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/gobeyondidentity/secure-infra/releases/download/v0.6.7/host-agent_darwin_amd64.tar.gz"
      sha256 "fe4bd2dd12b737c487690df63fe4f443d50dd96c4201e65da9e1574e1694534c"

      def install
        bin.install "sentry"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/gobeyondidentity/secure-infra/releases/download/v0.6.7/host-agent_darwin_arm64.tar.gz"
      sha256 "fea5b37ea78d60c14ffcd8c0997017082600a1f77f584de644b74da241196e54"

      def install
        bin.install "sentry"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/gobeyondidentity/secure-infra/releases/download/v0.6.7/host-agent_linux_amd64.tar.gz"
      sha256 "87c070989c8d4383f4099173f038a0cf6aba9c54095fe29de8deb1a2d8a1a432"
      def install
        bin.install "sentry"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/gobeyondidentity/secure-infra/releases/download/v0.6.7/host-agent_linux_arm64.tar.gz"
      sha256 "bbb2485b7439bc6d25fa5c4056ed0f87302b70bc717c9de16c3bde6b62f74f89"
      def install
        bin.install "sentry"
      end
    end
  end

  test do
    system "#{bin}/sentry", "--help"
  end
end

# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Sentry < Formula
  desc "Sentry host agent for Secure Infrastructure attestation"
  homepage "https://github.com/gobeyondidentity/secure-infra"
  version "0.6.10"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/gobeyondidentity/secure-infra/releases/download/v0.6.10/sentry_darwin_amd64.tar.gz"
      sha256 "4ab263bd9544bce5017d2f2fff20d7c0dec76b1806c9fab44687e86bb1b2b1e1"

      def install
        bin.install "sentry"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/gobeyondidentity/secure-infra/releases/download/v0.6.10/sentry_darwin_arm64.tar.gz"
      sha256 "a53831df2286e3cbedc151e381c9724f1e71e3d5edbb2620b9c528a6c2a9edc6"

      def install
        bin.install "sentry"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/gobeyondidentity/secure-infra/releases/download/v0.6.10/sentry_linux_amd64.tar.gz"
      sha256 "7c8684147c86c0c5605b29b7f815d9d23a9fe913f03faae7cee78672c940c26b"
      def install
        bin.install "sentry"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/gobeyondidentity/secure-infra/releases/download/v0.6.10/sentry_linux_arm64.tar.gz"
      sha256 "c1cb28d8fa2eeb035f338ee55e2cdab4ec39d43bdf54ab12f50f0719ed802222"
      def install
        bin.install "sentry"
      end
    end
  end

  test do
    system "#{bin}/sentry", "--help"
  end
end

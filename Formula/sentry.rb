# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Sentry < Formula
  desc "Sentry host agent for Project Cobalt attestation"
  homepage "https://github.com/gobeyondidentity/cobalt"
  version "0.6.12"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/gobeyondidentity/cobalt/releases/download/v0.6.12/sentry_darwin_amd64.tar.gz"
      sha256 "313d2fe78c7b02e3c8e0fe5795e5c63717aa8660154acfc184d7c20d27c274e3"

      def install
        bin.install "sentry"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/gobeyondidentity/cobalt/releases/download/v0.6.12/sentry_darwin_arm64.tar.gz"
      sha256 "d3f14c60f22df39ace1573773a4b47f490027422b1170c0c8465858c85f448ea"

      def install
        bin.install "sentry"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/gobeyondidentity/cobalt/releases/download/v0.6.12/sentry_linux_amd64.tar.gz"
      sha256 "6ddf38d5809ec9e6ce35852ce38a36cdcf1e9a872f367f2205f5875664f3b5d9"
      def install
        bin.install "sentry"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/gobeyondidentity/cobalt/releases/download/v0.6.12/sentry_linux_arm64.tar.gz"
      sha256 "9b14cf6e108cd893fa94a14168228afe6c1d5bff485d22a3f3838a923211dcbe"
      def install
        bin.install "sentry"
      end
    end
  end

  test do
    system "#{bin}/sentry", "--help"
  end
end

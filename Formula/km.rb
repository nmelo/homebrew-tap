# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Km < Formula
  desc "Key management CLI for Secure Infrastructure"
  homepage "https://github.com/gobeyondidentity/secure-infra"
  version "0.5.2-rc8"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/gobeyondidentity/secure-infra/releases/download/v0.5.2-rc8/km_darwin_amd64.tar.gz"
      sha256 "50ace8a2ecd2af983de96acdc9372acd64078b2530e8d033401bf8c104050b90"

      def install
        bin.install "km"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/gobeyondidentity/secure-infra/releases/download/v0.5.2-rc8/km_darwin_arm64.tar.gz"
      sha256 "1fb88c4e864634445bc3738486bf87f5f0bd0ace9fe523e5b1afed58f911c151"

      def install
        bin.install "km"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/gobeyondidentity/secure-infra/releases/download/v0.5.2-rc8/km_linux_amd64.tar.gz"
      sha256 "80969ba005f8fa270948057906105c6544c4d360f5d6d982d2c0a55e9c514074"
      def install
        bin.install "km"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/gobeyondidentity/secure-infra/releases/download/v0.5.2-rc8/km_linux_arm64.tar.gz"
      sha256 "083e0a153d2d13ed02f3726ea85e9c7a3d522647aeb8eb1b65013a0f7b0e887f"
      def install
        bin.install "km"
      end
    end
  end

  test do
    system "#{bin}/km", "--help"
  end
end

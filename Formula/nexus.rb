# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Nexus < Formula
  desc "Nexus control plane for Secure Infrastructure"
  homepage "https://github.com/gobeyondidentity/secure-infra"
  version "0.6.10"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/gobeyondidentity/secure-infra/releases/download/v0.6.10/nexus_darwin_amd64.tar.gz"
      sha256 "22b88ff69b52b72d9d125ab6fe1485d39dd9454575f0e8c5a1050a4b28ac3cd6"

      def install
        bin.install "control-plane" => "nexus"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/gobeyondidentity/secure-infra/releases/download/v0.6.10/nexus_darwin_arm64.tar.gz"
      sha256 "0f1f5167007c988a5b71fdb4a2b105b4d61b906ebdedacbd67a3107968e9790f"

      def install
        bin.install "control-plane" => "nexus"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/gobeyondidentity/secure-infra/releases/download/v0.6.10/nexus_linux_amd64.tar.gz"
      sha256 "e437f06ff9b00be0bc4d84d9610b4ad5a7cadb2a741c8f15fdb4f839151b6385"
      def install
        bin.install "control-plane" => "nexus"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/gobeyondidentity/secure-infra/releases/download/v0.6.10/nexus_linux_arm64.tar.gz"
      sha256 "e45c686b62a98d5da49de4dcab4ec36eaf33451f8b840728201f557816a904f4"
      def install
        bin.install "control-plane" => "nexus"
      end
    end
  end

  test do
    system "#{bin}/nexus", "--help"
  end
end
